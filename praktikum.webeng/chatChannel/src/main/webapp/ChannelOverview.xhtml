<!DOCTYPE html>
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:b="http://bootsfaces.net/ui"
    xmlns:h="http://xmlns.jcp.org/jsf/html">
    
<h:head>
    <title>ChatChannel</title>
</h:head>
      <div style = "">
         <ui:insert name = "header">
            <ui:include src = "/templates/header.xhtml" />
         </ui:insert> 
      </div>
      <br/>
<h:body>
    <f:view>
        <p>Hallo, #{user.firstName}.</p>
        <p>Lege los und chatte mit deinen Freunden in einem ChatChannel deiner Wahl.</p>

        <div>
        <h1>Deine Chats</h1>
        <h:outputLabel value="#{userBean.user.username}"/>
        <h:form>
        	<f:ajax event="keyup" render="ChannelOverviewTable" listener="#{channelBean.serachChannel}">
        		<h:inputText id="channelName" class="form-control" value="#{userBean_serachChannelName}"></h:inputText>
        	</f:ajax>
        
        
       		<h:panelGrid id="grid" columns="3">
             <h:dataTable class="table table-condensed table-striped" id="ChannelOverviewTable" value="#{ChannelBean.getAllChannels}" var="ChatChannels">
                 <h:column>
                     <h:outputText value="#{Channel.name}"/>
                 </h:column>
                 <h:column>
                     <h:outputText value="#{ChannelBean.getUsersOfChannel}"/>
                 </h:column>
             </h:dataTable>
             </h:panelGrid>
            </h:form>
             
        	<h:form id="AddChannelForm">
	  			<h:panelGrid id="grid" columns="3">
	    			<h:commandButton value="+" action="#{ChannelBean.setChannel}" />
	  			</h:panelGrid>
  			</h:form>
        </div>
    </f:view>
            <div style = "">
         <ui:insert name = "footer" >
            <ui:include src = "/templates/footer.xhtml" />
         </ui:insert>
      </div>
</h:body>
</html>